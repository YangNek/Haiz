<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trang Web Tình Yêu</title>
  <style>
    * {
      margin: 0; 
      padding: 0; 
      box-sizing: border-box;
    }
    body {
      font-family: Arial, sans-serif;
      background-color: #ffe6f2;
      overflow-x: hidden;
    }
    button {
      cursor: pointer;
    }

    /* ========== MÀN HÌNH CHÀO ========== */
    .welcome-screen {
      position: relative;
      width: 100%;
      height: 100vh;
      background: #ffc0cb; 
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: opacity 0.8s, visibility 0.8s;
    }
    .welcome-screen.hide {
      opacity: 0;
      visibility: hidden;
    }
    .welcome-box {
      background: #fff;
      padding: 20px 30px;
      border-radius: 15px;
      text-align: center;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .welcome-box h2 {
      margin-bottom: 10px;
      color: #ff4081;
    }
    .avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: linear-gradient(45deg, #ff4081, #ffc0cb);
      margin: 0 auto 15px auto;
      border: 3px solid #ff4081;
    }
    .welcome-box input {
      width: 200px;
      padding: 8px;
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      outline: none;
      text-align: center;
    }
    .welcome-box button {
      background-color: #ff4081;
      color: #fff;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      font-weight: bold;
    }
    .welcome-box button:hover {
      background-color: #e91e63;
    }

    /* Đường và xe van (bằng CSS) */
    .road {
      position: relative;
      width: 100%;
      height: 120px;
      background: #fff;
      margin-top: 20px;
      overflow: hidden;
    }
    .line {
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      height: 2px;
      background: #666;
    }
    .van {
      position: absolute;
      bottom: 0;
      left: -150px;
      width: 120px;
      height: 60px;
      background: pink;
      border-radius: 10px 10px 20px 20px;
      animation: drive 6s linear infinite;
    }
    .van::before {
      /* mui xe */
      content: "";
      position: absolute;
      width: 60px;
      height: 30px;
      background: pink;
      top: -30px;
      left: 10px;
      border-radius: 10px 10px 0 0;
    }
    .wheel {
      position: absolute;
      bottom: -10px;
      width: 20px;
      height: 20px;
      background: #333;
      border-radius: 50%;
    }
    .wheel:nth-child(2) {
      left: 15px;
    }
    .wheel:nth-child(3) {
      right: 15px;
    }
    @keyframes drive {
      0% { left: -150px; }
      100% { left: 110%; }
    }

    /* Hiệu ứng trái tim bay */
    .heart {
      position: absolute;
      width: 30px;
      height: 30px;
      background: red;
      top: 80%;
      border-radius: 50% 50% 0 0;
      transform: rotate(-45deg);
      animation: floatUp 3s ease-in-out infinite;
    }
    .heart::before, .heart::after {
      content: "";
      position: absolute;
      width: 30px;
      height: 30px;
      background: red;
      border-radius: 50% 50% 0 0;
    }
    .heart::before {
      left: -15px;
    }
    .heart::after {
      top: -15px;
      left: 0;
    }
    @keyframes floatUp {
      0% { transform: translateY(0) rotate(-45deg); opacity: 1; }
      70% { transform: translateY(-50px) rotate(-45deg); }
      100% { transform: translateY(-80px) rotate(-45deg); opacity: 0; }
    }

    /* ========== MÀN HÌNH CÂU HỎI ========== */
    .question-screen {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      min-height: 100vh;
      background-color: #ffe6f2;
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding-top: 20px;
    }
    .progress-container {
      width: 80%;
      max-width: 400px;
      height: 20px;
      background-color: #ddd;
      border-radius: 10px;
      margin: 20px auto;
      position: relative;
    }
    .progress {
      width: 0%;
      height: 100%;
      background-color: pink;
      border-radius: 10px;
      transition: width 0.5s;
    }
    .progress-percent {
      position: absolute;
      top: -25px;
      right: 10px;
      font-size: 14px;
      font-weight: bold;
    }
    .cat {
      /* Mèo = 1 vòng tròn + 2 tai tam giác */
      position: absolute;
      left: 0;
      top: -20px;
      width: 30px;
      height: 30px;
      background: #aaa;
      border-radius: 50%;
      transition: left 0.5s;
    }
    .cat::before {
      content: "";
      position: absolute;
      width: 10px;
      height: 10px;
      background: #aaa;
      top: -6px;
      left: 0;
      transform: rotate(45deg);
      border-radius: 2px;
    }
    .cat::after {
      content: "";
      position: absolute;
      width: 10px;
      height: 10px;
      background: #aaa;
      top: -6px;
      right: 0;
      transform: rotate(-45deg);
      border-radius: 2px;
    }

    .question-box {
      margin: 20px;
      padding: 15px;
      background: white;
      border-radius: 10px;
      display: none;
      width: 80%;
      max-width: 300px;
    }
    .question-box p {
      margin-bottom: 10px;
    }
    .question-box button {
      margin: 5px;
      padding: 8px 12px;
      border: none;
      border-radius: 5px;
      background: #ff4081;
      color: #fff;
    }
    .question-box button:hover {
      background: #e91e63;
    }

    /* Bông hoa hồng (giản lược) với 4 cánh */
    .flower {
      width: 100px;
      height: 100px;
      margin: 10px auto;
      position: relative;
    }
    .petal {
      position: absolute;
      width: 30px;
      height: 30px;
      background: red;
      border-radius: 50%;
      transition: transform 0.5s, opacity 0.5s;
    }
    .petal:nth-child(1) { top: 0; left: 35px; }
    .petal:nth-child(2) { top: 35px; left: 0; }
    .petal:nth-child(3) { top: 35px; right: 0; }
    .petal:nth-child(4) { bottom: 0; left: 35px; }

    /* Máy bay (CSS) + Hộp quà */
    .plane {
      position: absolute;
      top: 20px;
      right: -100px;
      width: 100px;
      height: 40px;
      background: #bbb;
      border-radius: 10px;
      display: none;
      transition: right 2s ease-in-out;
    }
    .plane::before {
      content: "";
      position: absolute;
      width: 30px;
      height: 10px;
      background: #bbb;
      top: 15px;
      left: -20px;
      border-radius: 5px;
    }
    .plane::after {
      content: "";
      position: absolute;
      width: 20px;
      height: 40px;
      background: #bbb;
      top: 0;
      right: -20px;
      border-radius: 0 5px 5px 0;
    }
    .box {
      position: absolute;
      top: 120px;
      left: 50%;
      transform: translateX(-50%);
      width: 50px;
      height: 50px;
      background: brown;
      border-radius: 5px;
      text-align: center;
      line-height: 50px;
      color: white;
      font-weight: bold;
      display: none;
      cursor: pointer;
      animation: glow 1s infinite alternate;
    }
    @keyframes glow {
      from { box-shadow: 0 0 5px yellow; }
      to { box-shadow: 0 0 15px yellow; }
    }
  </style>
</head>
<body>

  <!-- Màn hình chào -->
  <div class="welcome-screen" id="welcomeScreen">
    <div class="welcome-box">
      <div class="avatar"></div>
      <h2>Welcome</h2>
      <input type="text" id="nameInput" placeholder="Nhập tên của bạn"/>
      <br/>
      <button onclick="startQuestions()">Bắt đầu</button>
    </div>
    <div class="road">
      <div class="line"></div>
      <div class="van">
        <div class="wheel"></div>
        <div class="wheel"></div>
      </div>
      <!-- Một vài trái tim bay ngẫu nhiên -->
      <div class="heart" style="left: 20%;"></div>
      <div class="heart" style="left: 40%;"></div>
      <div class="heart" style="left: 60%;"></div>
      <div class="heart" style="left: 80%;"></div>
    </div>
  </div>

  <!-- Màn hình câu hỏi -->
  <div class="question-screen" id="questionScreen">
    <div class="progress-container">
      <div class="progress" id="progressBar"></div>
      <div class="progress-percent" id="progressPercent">0%</div>
      <div class="cat" id="catImg"></div>
    </div>

    <div class="flower" id="flower">
      <div class="petal"></div>
      <div class="petal"></div>
      <div class="petal"></div>
      <div class="petal"></div>
    </div>

    <div id="question1" class="question-box">
      <p id="q1Text">[Tên], anh hỏi 1 câu nhé?</p>
      <button onclick="nextQuestion(2)">Ocii</button>
    </div>

    <div id="question2" class="question-box">
      <p>Em có yêu anh không?</p>
      <button onclick="increaseProgress(25, 3)">Có</button>
      <button onclick="hideButton(this)">Không</button>
    </div>

    <div id="question3" class="question-box">
      <p>Em có muốn cưới anh không?</p>
      <button onclick="increaseProgress(25, 4)">Có</button>
      <button onclick="hideButton(this)">Không</button>
    </div>

    <div id="question4" class="question-box">
      <p>Em có nhớ anh không?</p>
      <button onclick="increaseProgress(25, 5)">Có</button>
      <button onclick="hideButton(this)">Không</button>
    </div>

    <div id="question5" class="question-box">
      <p>Em có chắc muốn anh làm chồng em không?</p>
      <button onclick="increaseProgress(25, 6)">Chắc</button>
      <button onclick="hideButton(this)">Không</button>
    </div>

    <!-- Máy bay & Hộp quà -->
    <div class="plane" id="plane"></div>
    <div class="box" id="giftBox" onclick="openBox()">Quà</div>
  </div>

  <script>
    let welcomeScreen = document.getElementById("welcomeScreen");
    let questionScreen = document.getElementById("questionScreen");
    let nameInput = document.getElementById("nameInput");
    let q1Text = document.getElementById("q1Text");

    let petals = document.querySelectorAll(".petal");
    let petalIndex = 0;

    let progressBar = document.getElementById("progressBar");
    let progressPercent = document.getElementById("progressPercent");
    let catImg = document.getElementById("catImg");

    let plane = document.getElementById("plane");
    let giftBox = document.getElementById("giftBox");

    let currentProgress = 0;

    // Bắt đầu
    function startQuestions() {
      let nameVal = nameInput.value.trim() || "Em";
      q1Text.textContent = nameVal + ", anh hỏi 1 câu nhé?";
      // Ẩn welcome
      welcomeScreen.classList.add("hide");
      // Hiện question
      questionScreen.style.display = "flex";
      // Hiện Q1
      document.getElementById("question1").style.display = "block";
    }

    function nextQuestion(id) {
      document.getElementById("question" + (id - 1)).style.display = "none";
      let nextQ = document.getElementById("question" + id);
      if (nextQ) {
        nextQ.style.display = "block";
      }
    }

    function increaseProgress(value, nextId) {
      // Rụng cánh hoa
      if (petalIndex < petals.length) {
        petals[petalIndex].style.opacity = "0";
        petalIndex++;
      }
      // Tăng tiến độ
      let newWidth = currentProgress + value;
      if (newWidth >= 100) {
        newWidth = 100;
        progressBar.style.width = "100%";
        progressPercent.textContent = "100%";
        catImg.style.left = "calc(100% - 30px)";
        setTimeout(showPlane, 1500);
      } else {
        progressBar.style.width = newWidth + "%";
        progressPercent.textContent = newWidth + "%";
        catImg.style.left = newWidth + "%";
        nextQuestion(nextId);
      }
      currentProgress = newWidth;
    }

    function hideButton(btn) {
      btn.style.display = "none";
    }

    // Máy bay bay
    function showPlane() {
      plane.style.display = "block";
      setTimeout(() => {
        plane.style.right = "110%";
        // Thả hộp quà sau 2 giây
        setTimeout(() => {
          giftBox.style.display = "block";
        }, 2000);
      }, 500);
    }

    // Mở hộp quà
    function openBox() {
      // Phát âm thanh (nếu muốn)
      let audio = new Audio("https://www.fesliyanstudios.com/play-mp3/387");
      audio.play();
      setTimeout(() => {
        alert(
          "Cuộc sống thì giống cuộc đời, còn anh thì giống bạn đời bên em.\n" +
          "Quá khứ của em anh chưa từng được tham dự nhưng tương lai sánh bước bên em anh nhất định sẽ tham gia.\n" +
          "Mình cùng nhau trải qua những ngày hạnh phúc, khổ đau và chỉ mong kết thúc là tháng ngày an yên bên nhau.\n" +
          "Anh yêu em nhiều lắm!!"
        );
      }, 800);
    }
  </script>
</body>
</html>
